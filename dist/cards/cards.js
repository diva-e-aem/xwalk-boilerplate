import{i as p}from"../__chunks__/isSidekickLibraryActive.U-fJCMMj.js";function g(e,c,i){i||(i=[...e.attributes].map(({nodeName:t})=>t)),i.forEach(t=>{const r=e.getAttribute(t);r&&(c.setAttribute(t,r),e.removeAttribute(t))})}function h(e,c){g(e,c,[...e.attributes].map(({nodeName:i})=>i).filter(i=>i.startsWith("data-aue-")||i.startsWith("data-richtext-")))}function w(){if(!p())return window.location.href;const{location:e}=window.parent,c=new URLSearchParams(e.search);return`${e.origin}${c.get("path")}`}function A(e){if(e.src==="")return;const{src:c,alt:i,eager:t=!1,width:r,height:d,breakpoints:m=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=e,f=new URL(c,w()),u=document.createElement("picture"),{pathname:o}=f,l=o.substring(o.lastIndexOf(".")+1);return m.forEach(n=>{const s=document.createElement("source");n.media&&s.setAttribute("media",n.media),s.setAttribute("type","image/webp"),s.setAttribute("srcset",`${o}?width=${n.width}&format=webply&optimize=medium`),u.appendChild(s)}),m.forEach((n,s)=>{if(s<m.length-1){const a=document.createElement("source");n.media&&a.setAttribute("media",n.media),a.setAttribute("srcset",`${o}?width=${n.width}&format=${l}&optimize=medium`),u.appendChild(a)}else{const a=document.createElement("img");a.setAttribute("loading",t?"eager":"lazy"),a.setAttribute("alt",i),a.setAttribute("width",r.toString()),a.setAttribute("height",d.toString()),u.appendChild(a),a.setAttribute("src",`${o}?width=${n.width}&format=${l}&optimize=medium`)}}),u}function b(e){const c=document.createElement("ul");[...e.children].forEach(i=>{const t=document.createElement("li");for(h(i,t);i.firstElementChild;)t.append(i.firstElementChild);[...t.children].forEach(r=>{r.children.length===1&&r.querySelector("picture")?r.className="cards-card-image":r.className="cards-card-body"}),c.append(t)}),c.querySelectorAll("picture > img").forEach(i=>{var d;const t=i,r=A({src:t.src,alt:t.alt,eager:!1,width:t.width,height:t.height});h(t,r==null?void 0:r.querySelector("img")),r&&((d=t.closest("picture"))==null||d.replaceWith(r))}),e.textContent="",e.append(c)}export{b as default};
//# sourceMappingURL=cards.js.map
