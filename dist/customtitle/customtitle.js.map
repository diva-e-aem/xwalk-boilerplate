{"version":3,"file":"customtitle.js","sources":["../../node_modules/lit-html/static.js","../../src/utils/getElementData.ts","../../src/utils/getBlockModifiers.ts","../../src/blocks/customtitle/customtitle.ts"],"sourcesContent":["import{html as t,svg as r}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=Symbol.for(\"\"),o=t=>{if(t?.r===e)return t?._$litStatic$},i=t=>({_$litStatic$:t,r:e}),s=(t,...r)=>({_$litStatic$:r.reduce(((r,e,o)=>r+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\\n            take care to ensure page security.`)})(e)+t[o+1]),t[0]),r:e}),a=new Map,l=t=>(r,...e)=>{const i=e.length;let s,l;const n=[],u=[];let c,$=0,f=!1;for(;$<i;){for(c=r[$];$<i&&void 0!==(l=e[$],s=o(l));)c+=s+r[++$],f=!0;$!==i&&u.push(l),n.push(c),$++}if($===i&&n.push(r[i]),f){const t=n.join(\"$$lit$$\");void 0===(r=a.get(t))&&(n.raw=n,a.set(t,r=n)),e=u}return t(r,...e)},n=l(t),u=l(r);export{n as html,s as literal,u as svg,i as unsafeStatic,l as withStatic};\n//# sourceMappingURL=static.js.map\n","export function getElementData(block: HTMLElement) {\n  return <T extends string>(\n    rowIndex: number = 0,\n    entries: T[]\n  ): Record<T, { element: Element; textContent: string | undefined; innerHTML: string | undefined }> => {\n    const row = block.children[rowIndex];\n    if (!row)\n      return {} as Record<T, { element: Element; textContent: string | undefined; innerHTML: string | undefined }>;\n\n    let rowElements = Array.from(row.children);\n    const result = {} as Record<\n      T,\n      { element: Element; textContent: string | undefined; innerHTML: string | undefined }\n    >;\n\n    // Find the deepest children\n    while (rowElements.length && rowElements[0].children.length) {\n      rowElements = Array.from(rowElements[0].children);\n    }\n\n    entries.forEach((entry, index) => {\n      result[entry] = {\n        element: rowElements[index],\n        textContent: rowElements[index]?.textContent || undefined,\n        innerHTML: rowElements[index]?.innerHTML || undefined,\n      };\n    });\n\n    return result;\n  };\n}\n","export const getBlockModifiers = (block: HTMLElement, blockName: string) => {\n  const blockClassList = Array.from(block.classList);\n  const blockModifiers = blockClassList.filter((className) => className !== blockName && className !== 'block');\n  return blockModifiers;\n};\n","import { nothing, render, TemplateResult } from 'lit';\nimport { html, literal, StaticValue } from 'lit/static-html.js';\n\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\nimport './customtitle.scss';\nimport { getElementData } from 'Utils/getElementData';\nimport { moveInstrumentation } from 'Helpers/moveInstrumentation';\nimport { getBlockModifiers } from 'Utils/getBlockModifiers';\n\ntype TemplateProps = {\n  titleText?: string;\n  titleType?: string | undefined;\n  titleAttributes?: Record<string, string>;\n};\n\nconst possibleTagTypeModifiers = ['h1-tag', 'h2-tag', 'h3-tag', 'h4-tag', 'h5-tag', 'h6-tag'];\n\nconst getTagTypeModifier = (modifiers: string[]) => {\n  return modifiers.find((modifier) => possibleTagTypeModifiers.includes(modifier));\n};\n\nconst renderHeadline = (tagType: string, text: string, cssClass: string) => {\n  const tagMap = {\n    h1: literal`h1`,\n    h2: literal`h2`,\n    h3: literal`h3`,\n    h4: literal`h4`,\n    h5: literal`h5`,\n    h6: literal`h6`,\n  };\n\n  const tag = tagMap[tagType] as StaticValue;\n\n  return html`\n    <${tag} data-js-title class=\"${cssClass}\">${text}</${tag}>\n  `;\n};\n\nconst template = ({ titleText, titleType = 'h2' }: TemplateProps): TemplateResult | typeof nothing => {\n  if (!titleText) {\n    return nothing;\n  }\n\n  return html` <div style=\"background: red\">${renderHeadline(titleType, titleText, 'custom-title')}</div> `;\n};\n\nexport default function (block: HTMLElement) {\n  // eslint-disable-next-line no-console\n  const modifiers = getBlockModifiers(block, 'customtitle');\n\n  const getDataForRow = getElementData(block);\n  const titleRow = getDataForRow(0, ['title']);\n  const titleElement = titleRow.title.element;\n\n  // eslint-disable-next-line\n  console.log('modifiers', modifiers);\n\n  cleanUpBlock(block);\n  render(template({ titleText: titleRow.title.textContent, titleType: getTagTypeModifier(modifiers) }), block);\n\n  const headline = block.querySelector('[data-js-title]') as HTMLElement;\n\n  moveInstrumentation(titleElement, headline);\n}\n"],"names":["e","o","s","r","t","a","l","i","n","u","$","f","getElementData","block","rowIndex","entries","row","rowElements","result","entry","index","_a","_b","getBlockModifiers","blockName","className","possibleTagTypeModifiers","getTagTypeModifier","modifiers","modifier","renderHeadline","tagType","text","cssClass","tag","literal","html","template","titleText","titleType","nothing","customtitle","titleRow","titleElement","cleanUpBlock","render","headline","moveInstrumentation"],"mappings":"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","x_google_ignoreList":[0]}