{"version":3,"file":"customtitle.js","sources":["../../src/utils/getElementData.ts","../../src/blocks/customtitle/customtitle.ts"],"sourcesContent":["export function getElementData(block: HTMLElement) {\n  return <T extends string>(\n    rowIndex: number = 0,\n    entries: T[]\n  ): Record<T, { element: Element; textContent: string | undefined; innerHTML: string | undefined }> => {\n    const row = block.children[rowIndex];\n    if (!row)\n      return {} as Record<T, { element: Element; textContent: string | undefined; innerHTML: string | undefined }>;\n\n    let rowElements = Array.from(row.children);\n    const result = {} as Record<\n      T,\n      { element: Element; textContent: string | undefined; innerHTML: string | undefined }\n    >;\n\n    // Find the deepest children\n    while (rowElements.length && rowElements[0].children.length) {\n      rowElements = Array.from(rowElements[0].children);\n    }\n\n    entries.forEach((entry, index) => {\n      result[entry] = {\n        element: rowElements[index],\n        textContent: rowElements[index]?.textContent || undefined,\n        innerHTML: rowElements[index]?.innerHTML || undefined,\n      };\n    });\n\n    return result;\n  };\n}\n","import { html, nothing, render, TemplateResult } from 'lit';\n\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\nimport './customtitle.scss';\nimport { getElementData } from 'Utils/getElementData';\nimport { moveInstrumentation } from 'Helpers/moveInstrumentation';\n\ntype TemplateProps = {\n  titleText?: string;\n  titleType?: string | undefined;\n  titleAttributes?: Record<string, string>;\n};\n\nconst renderHeadline = (tag: string, text: string, cssClass: string) => {\n  if (tag === 'h1') return html`<h1 data-js-title class=\"${cssClass}\">${text}</h1>`;\n  if (tag === 'h2') return html`<h2 data-js-title class=\"${cssClass}\">${text}</h2>`;\n  if (tag === 'h3') return html`<h3 data-js-title class=\"${cssClass}\">${text}</h3>`;\n  if (tag === 'h4') return html`<h4 data-js-title class=\"${cssClass}\">${text}</h4>`;\n  if (tag === 'h5') return html`<h5 data-js-title class=\"${cssClass}\">${text}</h5>`;\n  if (tag === 'h6') return html`<h6 data-js-title class=\"${cssClass}\">${text}</h6>`;\n  return nothing;\n};\n\nconst template = ({ titleText, titleType = 'h2' }: TemplateProps): TemplateResult | typeof nothing => {\n  if (!titleText) {\n    return nothing;\n  }\n\n  return html` <div style=\"background: red\">${renderHeadline(titleType, titleText, 'custom-title')}</div> `;\n};\n\nexport default function (block: HTMLElement) {\n  // eslint-disable-next-line no-console\n  console.log('>>> decorate block a', block);\n\n  const getDataForRow = getElementData(block);\n  const titleRow = getDataForRow(0, ['title']);\n  const titleElement = titleRow.title.element;\n\n  // eslint-disable-next-line\n  console.log('>>> titleRow', titleRow);\n\n  cleanUpBlock(block);\n  render(template({ titleText: titleRow.title.textContent }), block);\n\n  // // eslint-disable-next-line no-console\n  // console.log('>>> rendered a');\n\n  const headline = block.querySelector('[data-js-title]') as HTMLElement;\n\n  moveInstrumentation(titleElement, headline);\n}\n"],"names":["getElementData","block","rowIndex","entries","row","rowElements","result","entry","index","_a","_b","renderHeadline","tag","text","cssClass","html","nothing","template","titleText","titleType","customtitle","titleRow","titleElement","cleanUpBlock","render","headline","moveInstrumentation"],"mappings":"qMAAO,SAASA,EAAeC,EAAoB,CAC1C,MAAA,CACLC,EAAmB,EACnBC,IACoG,CAC9F,MAAAC,EAAMH,EAAM,SAASC,CAAQ,EACnC,GAAI,CAACE,EACH,MAAO,GAET,IAAIC,EAAc,MAAM,KAAKD,EAAI,QAAQ,EACzC,MAAME,EAAS,CAAA,EAMf,KAAOD,EAAY,QAAUA,EAAY,CAAC,EAAE,SAAS,QACnDA,EAAc,MAAM,KAAKA,EAAY,CAAC,EAAE,QAAQ,EAG1C,OAAAF,EAAA,QAAQ,CAACI,EAAOC,IAAU,SAChCF,EAAOC,CAAK,EAAI,CACd,QAASF,EAAYG,CAAK,EAC1B,cAAaC,EAAAJ,EAAYG,CAAK,IAAjB,YAAAC,EAAoB,cAAe,OAChD,YAAWC,EAAAL,EAAYG,CAAK,IAAjB,YAAAE,EAAoB,YAAa,MAAA,CAC9C,CACD,EAEMJ,CAAA,CAEX,CCjBA,MAAMK,EAAiB,CAACC,EAAaC,EAAcC,IAC7CF,IAAQ,KAAaG,6BAAgCD,CAAQ,KAAKD,CAAI,QACtED,IAAQ,KAAaG,6BAAgCD,CAAQ,KAAKD,CAAI,QACtED,IAAQ,KAAaG,6BAAgCD,CAAQ,KAAKD,CAAI,QACtED,IAAQ,KAAaG,6BAAgCD,CAAQ,KAAKD,CAAI,QACtED,IAAQ,KAAaG,6BAAgCD,CAAQ,KAAKD,CAAI,QACtED,IAAQ,KAAaG,6BAAgCD,CAAQ,KAAKD,CAAI,QACnEG,EAGHC,EAAW,CAAC,CAAE,UAAAC,EAAW,UAAAC,EAAY,QACpCD,EAIEH,gCAAqCJ,EAAeQ,EAAWD,EAAW,cAAc,CAAC,SAHvFF,EAMX,SAAAI,EAAyBnB,EAAoB,CAEnC,QAAA,IAAI,uBAAwBA,CAAK,EAGzC,MAAMoB,EADgBrB,EAAeC,CAAK,EACX,EAAG,CAAC,OAAO,CAAC,EACrCqB,EAAeD,EAAS,MAAM,QAG5B,QAAA,IAAI,eAAgBA,CAAQ,EAEpCE,EAAatB,CAAK,EACXuB,EAAAP,EAAS,CAAE,UAAWI,EAAS,MAAM,WAAY,CAAC,EAAGpB,CAAK,EAK3D,MAAAwB,EAAWxB,EAAM,cAAc,iBAAiB,EAEtDyB,EAAoBJ,EAAcG,CAAQ,CAC5C"}