{"version":3,"file":"customtitle.js","sources":["../../node_modules/lit-html/static.js","../../src/utils/getElementData.ts","../../src/utils/getBlockModifiers.ts","../../src/blocks/customtitle/customtitle.ts"],"sourcesContent":["import{html as t,svg as r}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=Symbol.for(\"\"),o=t=>{if(t?.r===e)return t?._$litStatic$},i=t=>({_$litStatic$:t,r:e}),s=(t,...r)=>({_$litStatic$:r.reduce(((r,e,o)=>r+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\\n            take care to ensure page security.`)})(e)+t[o+1]),t[0]),r:e}),a=new Map,l=t=>(r,...e)=>{const i=e.length;let s,l;const n=[],u=[];let c,$=0,f=!1;for(;$<i;){for(c=r[$];$<i&&void 0!==(l=e[$],s=o(l));)c+=s+r[++$],f=!0;$!==i&&u.push(l),n.push(c),$++}if($===i&&n.push(r[i]),f){const t=n.join(\"$$lit$$\");void 0===(r=a.get(t))&&(n.raw=n,a.set(t,r=n)),e=u}return t(r,...e)},n=l(t),u=l(r);export{n as html,s as literal,u as svg,i as unsafeStatic,l as withStatic};\n//# sourceMappingURL=static.js.map\n","export function getElementData(block: HTMLElement) {\n  return <T extends string>(\n    rowIndex: number = 0,\n    entries: T[]\n  ): Record<T, { element: Element; textContent: string | undefined; innerHTML: string | undefined }> => {\n    const row = block.children[rowIndex];\n    if (!row)\n      return {} as Record<T, { element: Element; textContent: string | undefined; innerHTML: string | undefined }>;\n\n    let rowElements = Array.from(row.children);\n    const result = {} as Record<\n      T,\n      { element: Element; textContent: string | undefined; innerHTML: string | undefined }\n    >;\n\n    // Find the deepest children\n    while (rowElements.length && rowElements[0].children.length) {\n      rowElements = Array.from(rowElements[0].children);\n    }\n\n    entries.forEach((entry, index) => {\n      result[entry] = {\n        element: rowElements[index],\n        textContent: rowElements[index]?.textContent || undefined,\n        innerHTML: rowElements[index]?.innerHTML || undefined,\n      };\n    });\n\n    return result;\n  };\n}\n","export const getBlockModifiers = (block: HTMLElement, blockName: string) => {\n  const blockClassList = Array.from(block.classList);\n  const blockModifiers = blockClassList.filter((className) => className !== blockName && className !== 'block');\n  return blockModifiers;\n};\n","import { nothing, render, TemplateResult } from 'lit';\nimport { html, literal, StaticValue } from 'lit/static-html.js';\n\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\nimport './customtitle.scss';\nimport { getElementData } from 'Utils/getElementData';\nimport { moveInstrumentation } from 'Helpers/moveInstrumentation';\nimport { getBlockModifiers } from 'Utils/getBlockModifiers';\n\ntype TemplateProps = {\n  titleText?: string;\n  subline?: string;\n  tagName?: string;\n  cssClass?: string;\n  sublineLarge?: string;\n};\n\nconst possibleTagNameModifiers = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\nconst possibleStyleModifiers = ['h1-style', 'h2-style', 'h3-style', 'h4-style', 'h5-style', 'h6-style'];\n\nconst getTagNameModifier = (modifiers: string[]) => {\n  return modifiers.find((modifier) => possibleTagNameModifiers.includes(modifier)) || 'h2';\n};\n\nconst getStyleModifier = (modifiers: string[]) => {\n  return modifiers.find((modifier) => possibleStyleModifiers.includes(modifier)) || 'h1-style';\n};\n\nconst renderHeadline = (tagName: string, text: string, cssClass: string) => {\n  const tagMap = {\n    h1: literal`h1`,\n    h2: literal`h2`,\n    h3: literal`h3`,\n    h4: literal`h4`,\n    h5: literal`h5`,\n    h6: literal`h6`,\n  };\n\n  const tag = tagMap[tagName] as StaticValue;\n\n  return html`\n    <${tag} data-js-title class=\"custom-title ${cssClass.replace('-style', '')}\">${text}</${tag}>\n  `;\n};\n\nconst renderSubline = (subline: string, sublineLarge?: string) => {\n  if (subline === '') return nothing;\n  return html`<p data-js-subline class=\"module-subtitle${sublineLarge === 'large-subline' ? ' large-subline' : ''}\">\n    ${subline}\n  </p>`;\n};\n\nconst template = ({\n  titleText,\n  subline = '',\n  tagName = 'h2',\n  cssClass = 'h1-style',\n  sublineLarge = '',\n}: TemplateProps): TemplateResult | typeof nothing => {\n  if (!titleText) {\n    return nothing;\n  }\n\n  return html`\n    <div style=\"background: red\">\n      ${renderHeadline(tagName, titleText, cssClass)}${renderSubline(subline, sublineLarge)}\n    </div>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  // eslint-disable-next-line no-console\n  const modifiers = getBlockModifiers(block, 'customtitle');\n\n  const getDataForRow = getElementData(block);\n  const titleRow = getDataForRow(0, ['title']);\n  const sublineRow = getDataForRow(1, ['subline']);\n  const titleElement = titleRow.title.element;\n  const sublineElement = sublineRow.subline.element;\n\n  // eslint-disable-next-line\n\n  cleanUpBlock(block);\n  render(\n    template({\n      titleText: titleRow.title.textContent,\n      subline: sublineRow.subline.innerHTML,\n      tagName: getTagNameModifier(modifiers),\n      cssClass: getStyleModifier(modifiers),\n    }),\n    block\n  );\n\n  const headlineEl = block.querySelector('[data-js-title]') as HTMLElement;\n  const sublineEl = block.querySelector('[data-js-subline]') as HTMLElement;\n\n  moveInstrumentation(titleElement, headlineEl);\n  moveInstrumentation(sublineElement, sublineEl);\n}\n"],"names":["e","o","s","r","t","a","l","i","n","u","$","f","getElementData","block","rowIndex","entries","row","rowElements","result","entry","index","_a","_b","getBlockModifiers","blockName","className","possibleTagNameModifiers","possibleStyleModifiers","getTagNameModifier","modifiers","modifier","getStyleModifier","renderHeadline","tagName","text","cssClass","tag","literal","html","renderSubline","subline","sublineLarge","nothing","template","titleText","customtitle","getDataForRow","titleRow","sublineRow","titleElement","sublineElement","cleanUpBlock","render","headlineEl","sublineEl","moveInstrumentation"],"mappings":"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","x_google_ignoreList":[0]}