{"version":3,"file":"customtitle.js","sources":["../../src/blocks/customtitle/customtitle.ts"],"sourcesContent":["/* eslint-disable no-console */\n// import { html, TemplateResult } from 'lit';\n\nimport './customtitle.scss';\n// import { renderBlock } from 'Helpers/renderBlock';\n\n// const template = (text: string): TemplateResult => {\n//   return html`<h1>${text}</h1>`;\n// };\n\nfunction createAttributeMap(field: Element) {\n  const attributes = field.attributes;\n  return [...attributes]\n    .map(({ nodeName }) => nodeName)\n    .filter((attr) => attr.startsWith('data-aue-') || attr.startsWith('data-richtext-'))\n    .map((attribute) => {\n      return {\n        [attribute]: field.getAttribute(attribute),\n      };\n    });\n}\n\nfunction getDataForField(block: HTMLElement) {\n  return (propName: string) => {\n    const field = block.querySelector(`[data-aue-prop=\"${propName}\"]`);\n\n    return {\n      textContent: field?.textContent,\n      innerHTML: field?.innerHTML,\n      dataAttributes: field ? createAttributeMap(field) : null,\n    };\n  };\n}\n\nexport default function (block: HTMLElement) {\n  const dataFetcher = getDataForField(block);\n  const title = dataFetcher('customTitle');\n  console.log('>>> 1', block);\n  console.log('>>> y p-tag', title.textContent);\n  console.log('>>> y p-attributes', title.dataAttributes);\n\n  // const textElement = block.children[0].children[0];\n\n  // renderBlock({\n  //   template: template(text),\n  //   container: block,\n  //   moveInstrumentationsOptions: {\n  //     from: textElement,\n  //     to: block.querySelector('h1') as Element,\n  //   },\n  // });\n\n  // console.log('>>> render finished', block);\n  // Array.from(attributes).forEach((attr) => {\n  //   const value = block.querySelector('p')!.getAttribute(attr);\n  //   if (value) {\n  //     to.setAttribute(attr, value);\n  //     from.removeAttribute(attr);\n  //   }\n  // });\n}\n"],"names":["createAttributeMap","field","nodeName","attr","attribute","getDataForField","block","propName","customtitle","title"],"mappings":"AAUA,SAASA,EAAmBC,EAAgB,CAEnC,MAAA,CAAC,GADWA,EAAM,UACJ,EAClB,IAAI,CAAC,CAAE,SAAAC,KAAeA,CAAQ,EAC9B,OAAQC,GAASA,EAAK,WAAW,WAAW,GAAKA,EAAK,WAAW,gBAAgB,CAAC,EAClF,IAAKC,IACG,CACL,CAACA,CAAS,EAAGH,EAAM,aAAaG,CAAS,CAAA,EAE5C,CACL,CAEA,SAASC,EAAgBC,EAAoB,CAC3C,OAAQC,GAAqB,CAC3B,MAAMN,EAAQK,EAAM,cAAc,mBAAmBC,CAAQ,IAAI,EAE1D,MAAA,CACL,YAAaN,GAAA,YAAAA,EAAO,YACpB,UAAWA,GAAA,YAAAA,EAAO,UAClB,eAAgBA,EAAQD,EAAmBC,CAAK,EAAI,IAAA,CACtD,CAEJ,CAEA,SAAAO,EAAyBF,EAAoB,CAErC,MAAAG,EADcJ,EAAgBC,CAAK,EACf,aAAa,EAC/B,QAAA,IAAI,QAASA,CAAK,EAClB,QAAA,IAAI,cAAeG,EAAM,WAAW,EACpC,QAAA,IAAI,qBAAsBA,EAAM,cAAc,CAqBxD"}