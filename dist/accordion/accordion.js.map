{"version":3,"file":"accordion.js","sources":["../../src/blocks/accordion/accordion.ts"],"sourcesContent":["import { html, render, TemplateResult } from 'lit';\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\nimport { moveInstrumentation } from 'Helpers/moveInstrumentation';\nimport './accordion.scss';\n\nconst rowLabelTemplate = (labelContent: HTMLElement): TemplateResult => {\n  const accordionEntryLabel = document.createElement('p');\n  moveInstrumentation(labelContent, accordionEntryLabel);\n  accordionEntryLabel.append(...labelContent.innerHTML);\n  return html`${accordionEntryLabel}`;\n};\n\nconst rowBodyTemplate = (bodyContent: HTMLElement): TemplateResult => {\n  const accordionEntryBody = document.createElement('div');\n  moveInstrumentation(bodyContent, accordionEntryBody);\n  accordionEntryBody.append(...bodyContent.innerHTML);\n  return html`${accordionEntryBody}`;\n};\n\nconst rowTemplate = (row: HTMLElement): TemplateResult => {\n  return html`\n    <details class=\"accordion-item\">\n      <summary class=\"accordion-item-label\">\n        ${rowLabelTemplate(row.children[0].querySelector('p') as HTMLElement)}\n      </summary>\n      <div class=\"accordion-item-body\">${rowBodyTemplate(row.children[1].querySelector('p') as HTMLElement)}</div>\n    </details>\n  `;\n};\n\nconst template = (block: HTMLElement[]): TemplateResult => {\n  return html`${block.map((row) => rowTemplate(row))}`;\n};\n\nexport default function decorate(block) {\n  // [...block.children].forEach((row) => {\n  //   // decorate accordion item label\n  //   const label = row.children[0];\n  //   const summary = document.createElement('summary');\n  //   summary.className = 'accordion-item-label';\n  //   summary.append(...label.childNodes);\n  //   // decorate accordion item body\n  //   const body = row.children[1];\n  //   body.className = 'accordion-item-body';\n  //   // decorate accordion item\n  //   const details = document.createElement('details');\n  //   details.className = 'accordion-item';\n  //   details.append(summary, body);\n  //   row.replaceWith(details);\n  // });\n\n  const rows = [...block.children];\n\n  cleanUpBlock(block);\n  render(template(rows), block);\n}\n"],"names":["rowLabelTemplate","labelContent","accordionEntryLabel","moveInstrumentation","html","rowBodyTemplate","bodyContent","accordionEntryBody","rowTemplate","row","template","block","decorate","rows","cleanUpBlock","render"],"mappings":"yLAKA,MAAMA,EAAoBC,GAA8C,CAChE,MAAAC,EAAsB,SAAS,cAAc,GAAG,EACtD,OAAAC,EAAoBF,EAAcC,CAAmB,EACjCA,EAAA,OAAO,GAAGD,EAAa,SAAS,EAC7CG,IAAOF,CAAmB,EACnC,EAEMG,EAAmBC,GAA6C,CAC9D,MAAAC,EAAqB,SAAS,cAAc,KAAK,EACvD,OAAAJ,EAAoBG,EAAaC,CAAkB,EAChCA,EAAA,OAAO,GAAGD,EAAY,SAAS,EAC3CF,IAAOG,CAAkB,EAClC,EAEMC,EAAeC,GACZL,0EAGCJ,EAAiBS,EAAI,SAAS,CAAC,EAAE,cAAc,GAAG,CAAgB,CAAC,8CAEpCJ,EAAgBI,EAAI,SAAS,CAAC,EAAE,cAAc,GAAG,CAAgB,CAAC,mBAKrGC,EAAYC,GACTP,IAAOO,EAAM,IAAKF,GAAQD,EAAYC,CAAG,CAAC,CAAC,GAGpD,SAAwBG,EAASD,EAAO,CAiBtC,MAAME,EAAO,CAAC,GAAGF,EAAM,QAAQ,EAE/BG,EAAaH,CAAK,EACXI,EAAAL,EAASG,CAAI,EAAGF,CAAK,CAC9B"}