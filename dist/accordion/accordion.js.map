{"version":3,"file":"accordion.js","sources":["../../src/blocks/accordion/accordion.ts"],"sourcesContent":["import { html, render, TemplateResult } from 'lit';\n\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\nimport './accordion.scss';\nimport { moveInstrumentation } from 'Helpers/editor/moveInstrumentation';\n\nconst openAccordionItem = (event: Event) => {\n  const target = event.currentTarget as HTMLElement;\n  if (target) target.parentElement?.classList.toggle('open');\n};\n\nconst rowContentTemplate = (content: HTMLElement): TemplateResult => {\n  const contentElement = document.createElement('p');\n  moveInstrumentation(content, contentElement);\n  contentElement.append(content.innerHTML);\n  return html`${contentElement}`;\n};\n\nconst rowTemplate = (row: HTMLElement): TemplateResult => {\n  return html`\n    <div class=\"accordion-item\">\n      <div class=\"accordion-item-label\" @click=\"${(event: Event) => openAccordionItem(event)}\">\n        ${rowContentTemplate(row.children[0].querySelector('p') as HTMLElement)}\n      </div>\n      <div class=\"accordion-item-body\">${rowContentTemplate(row.children[1].querySelector('p') as HTMLElement)}</div>\n    </div>\n  `;\n};\n\nconst template = (block: HTMLElement[]): TemplateResult => {\n  return html`${block.map((row) => rowTemplate(row))}`;\n};\n\nexport default function decorate(block: HTMLElement) {\n  const rows = [...block.children] as HTMLDivElement[];\n\n  cleanUpBlock(block);\n  render(template(rows), block);\n}\n"],"names":["openAccordionItem","event","target","_a","rowContentTemplate","content","contentElement","moveInstrumentation","html","rowTemplate","row","template","block","decorate","rows","cleanUpBlock","render"],"mappings":"8LAMA,MAAMA,EAAqBC,GAAiB,OAC1C,MAAMC,EAASD,EAAM,cACjBC,KAAeC,EAAAD,EAAA,gBAAA,MAAAC,EAAe,UAAU,OAAO,QACrD,EAEMC,EAAsBC,GAAyC,CAC7D,MAAAC,EAAiB,SAAS,cAAc,GAAG,EACjD,OAAAC,EAAoBF,EAASC,CAAc,EAC5BA,EAAA,OAAOD,EAAQ,SAAS,EAChCG,IAAOF,CAAc,EAC9B,EAEMG,EAAeC,GACZF,0EAE0CP,GAAiBD,EAAkBC,CAAK,CAAC,KAClFG,EAAmBM,EAAI,SAAS,CAAC,EAAE,cAAc,GAAG,CAAgB,CAAC,0CAEtCN,EAAmBM,EAAI,SAAS,CAAC,EAAE,cAAc,GAAG,CAAgB,CAAC,eAKxGC,EAAYC,GACTJ,IAAOI,EAAM,IAAKF,GAAQD,EAAYC,CAAG,CAAC,CAAC,GAGpD,SAAwBG,EAASD,EAAoB,CACnD,MAAME,EAAO,CAAC,GAAGF,EAAM,QAAQ,EAE/BG,EAAaH,CAAK,EACXI,EAAAL,EAASG,CAAI,EAAGF,CAAK,CAC9B"}