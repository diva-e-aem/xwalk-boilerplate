{"version":3,"file":"getBlockModifiers.DRE9EmNQ.js","sources":["../../src/utils/getElementData.ts","../../src/utils/getBlockModifiers.ts"],"sourcesContent":["interface ElementData {\n  element?: Element;\n  textContent?: string;\n  innerHTML?: string;\n}\n\nconst isUniversalEditor = (): boolean => {\n  return Boolean(document.querySelector('[data-aue-type]'));\n};\n\nexport function getElementData(block: HTMLElement) {\n  // eslint-disable-next-line no-console\n  console.log('isUniversalEditor:', isUniversalEditor());\n\n  return <T extends string>(rowIndex: number = 0, entries: T[]): Record<T, ElementData> => {\n    const row = block.children[rowIndex];\n    if (!row) return {} as Record<T, ElementData>;\n\n    let rowElements = Array.from(row.children);\n    const result = {} as Record<T, ElementData>;\n\n    // Find the deepest children\n    while (rowElements.length && rowElements[0].children.length) {\n      rowElements = Array.from(rowElements[0].children);\n    }\n\n    entries.forEach((entry, index) => {\n      const isRichText = entry.includes('richtext') || entry.includes('rte');\n      const element = isRichText ? rowElements[index].parentElement : rowElements[index];\n      result[entry] = {\n        element: element || undefined,\n        textContent: rowElements[index]?.textContent || undefined,\n        innerHTML: rowElements[index]?.innerHTML || undefined,\n      };\n    });\n\n    return result;\n  };\n}\n","export const getBlockModifiers = (block: HTMLElement, blockName: string) => {\n  const blockClassList = Array.from(block.classList);\n  const blockModifiers = blockClassList.filter((className) => className !== blockName && className !== 'block');\n  return blockModifiers;\n};\n"],"names":["isUniversalEditor","getElementData","block","rowIndex","entries","row","rowElements","result","entry","index","_a","_b","element","getBlockModifiers","blockName","className"],"mappings":"AAMA,MAAMA,EAAoB,IACjB,EAAQ,SAAS,cAAc,iBAAiB,EAGlD,SAASC,EAAeC,EAAoB,CAEzC,eAAA,IAAI,qBAAsBF,EAAmB,CAAA,EAE9C,CAAmBG,EAAmB,EAAGC,IAAyC,CACjF,MAAAC,EAAMH,EAAM,SAASC,CAAQ,EACnC,GAAI,CAACE,EAAK,MAAO,GAEjB,IAAIC,EAAc,MAAM,KAAKD,EAAI,QAAQ,EACzC,MAAME,EAAS,CAAA,EAGf,KAAOD,EAAY,QAAUA,EAAY,CAAC,EAAE,SAAS,QACnDA,EAAc,MAAM,KAAKA,EAAY,CAAC,EAAE,QAAQ,EAG1C,OAAAF,EAAA,QAAQ,CAACI,EAAOC,IAAU,CApBtC,IAAAC,EAAAC,EAsBM,MAAMC,EADaJ,EAAM,SAAS,UAAU,GAAKA,EAAM,SAAS,KAAK,EACxCF,EAAYG,CAAK,EAAE,cAAgBH,EAAYG,CAAK,EACjFF,EAAOC,CAAK,EAAI,CACd,QAASI,GAAW,OACpB,cAAaF,EAAAJ,EAAYG,CAAK,IAAjB,YAAAC,EAAoB,cAAe,OAChD,YAAWC,EAAAL,EAAYG,CAAK,IAAjB,YAAAE,EAAoB,YAAa,MAAA,CAC9C,CACD,EAEMJ,CAAA,CAEX,CCtCa,MAAAM,EAAoB,CAACX,EAAoBY,IAC7B,MAAM,KAAKZ,EAAM,SAAS,EACX,OAAQa,GAAcA,IAAcD,GAAaC,IAAc,OAAO"}