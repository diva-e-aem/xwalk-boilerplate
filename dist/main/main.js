import"../__chunks__/icon.CGLQsM4T.js";import{m as y}from"../__chunks__/index.module.CR-9466T.js";import{i as k}from"../__chunks__/isSidekickLibraryActive.U-fJCMMj.js";import{t as E,l as w,c as T,a as D,b as x,s as v,d as B,e as R,f as A,g as U}from"../__chunks__/decorateBlocks.uBvJBQmy.js";import{g as f}from"../__chunks__/getMetadata.C2EoXxjz.js";import"../__chunks__/lit-element.BYUc91cE.js";const b=(s,e)=>{e.split(",").forEach(a=>{s.classList.add(E(a.trim()))})};function M(){const s=f("template");s&&b(document.body,s);const e=f("theme");e&&b(document.body,e)}function I(s){return s.trim()===""?void 0:s}function q(){const s=f("language");document.documentElement.lang=I(s)||"en"}function j(){return k()?window.parent.location:window.location}const u={mainTsPath:"./src/main.ts",mainScssPath:"./src/styles/sass/main.scss",iconsDirPath:"./public/icons",iconsTypesPath:"./src/types/icons.types.ts",fontsScssPath:"./src/styles/sass/fonts.scss",fontsCssPath:"./dist/fonts/fonts.css",lazyStylesScssPath:"./src/styles/sass/lazy-styles.scss",lazyStylesCssPath:"./dist/lazyStyles/lazyStyles.css",sidekickLibraryStylesScssPath:"./src/styles/sass/sidekick-library-styles.scss",sidekickLibraryStylesCssPath:"./dist/sidekickLibraryStyles/sidekickLibraryStyles.css",editorTsPath:"./src/app/editor/editor-support.ts",lcpBlocks:[]};async function L(){const{fontsCssPath:s}=u;if(s){await w(s);try{j().hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch(e){y.error("loadFonts: Error setting fonts-loaded in session storage",e)}}}function t(s,e={}){t.defer=t.defer||[];const a=i=>{t[i]=t[i]||((...o)=>t.defer.push({fnname:i,args:o}))};t.drain=t.drain||((i,o)=>{t[i]=o,t.defer.filter(({fnname:r})=>i===r).forEach(({fnname:r,args:l})=>t[r](...l))}),t.always=t.always||[],t.always.on=(i,o)=>{t.always[i]=o},t.on=(i,o)=>{t.cases[i]=o},a("observe"),a("cwv");try{if(window.hlx=window.hlx||{},!window.hlx.rum){const d=new URLSearchParams(window.location.search).get("rum")==="on"?1:100,n=Array.from({length:75},(g,C)=>String.fromCharCode(48+C)).filter(g=>/\d|[A-Z]/i.test(g)).filter(()=>Math.random()*75>70).join(""),c=Math.random(),m=c*d<1,S=Date.now(),z={full:()=>window.location.href,origin:()=>window.location.origin,path:()=>window.location.href.replace(/\?.*$/,"")};window.hlx.rum={weight:d,id:n,random:c,isSelected:m,firstReadTime:S,sampleRUM:t,sanitizeURL:z[window.hlx.RUM_MASK_URL||"path"]}}const{weight:i,id:o,firstReadTime:r}=window.hlx.rum;if(window.hlx&&window.hlx.rum&&window.hlx.rum.isSelected){const l=["weight","id","referer","checkpoint","t","source","target","cwv","CLS","FID","LCP","INP"],d=(n=e)=>{const c=JSON.stringify({weight:i,id:o,referer:window.hlx.rum.sanitizeURL(),checkpoint:s,t:Date.now()-r,...e},l),m=`https://rum.hlx.page/.rum/${i}`;navigator.sendBeacon(m,c),console.debug(`ping:${s}`,n)};t.cases=t.cases||{cwv:()=>t.cwv(e)||!0,lazy:()=>{const n=document.createElement("script");return n.src="https://rum.hlx.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js",document.head.appendChild(n),!0}},d(e),t.cases[s]&&t.cases[s]()}t.always[s]&&t.always[s](e)}catch{}}function _(s="/dist/main/main.js"){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const e=document.querySelector(`script[src$="${s}"]`);if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split(s)}catch(a){y.log("setupHlxObj: Could not set codeBasePath.",a)}}function $(){_(),t("top"),window.addEventListener("load",()=>t("load")),window.addEventListener("unhandledrejection",s=>{t("error",{source:s.reason.sourceURL,target:s.reason.line})}),window.addEventListener("error",s=>{t("error",{source:s.filename,target:s.lineno})})}async function H(){const s=document.querySelector(".section"),{lcpBlocks:e}=u;if(s){const o=T(s).map(async r=>{(e==null?void 0:e.includes(r.name))&&await Promise.all([D(r),x(r)])});await Promise.all(o),v(s)}document.body.style.display=null;const a=document.querySelector("main img");await new Promise(i=>{a&&!a.complete?(a.setAttribute("loading","eager"),a.setAttribute("fetchpriority","high"),a.addEventListener("load",()=>i()),a.addEventListener("error",()=>i())):i()})}class F{constructor(){this.beforeEagerCallbacks=[],this.loadEagerCallbacks=[],this.beforeLoadLazyCallbacks=[],this.loadLazyCallbacks=[],this.beforeLoadDelayedCallbacks=[],this.loadDelayedCallbacks=[],this.initializedCallbacks=[]}get beforeEager(){return this.beforeEagerPromise===void 0&&(this.beforeEagerPromise=this.beforeLoadEager()),this.beforeEagerPromise}get loadEager(){return this.eagerPromise===void 0&&(this.eagerPromise=this.loadEagerPromise()),this.eagerPromise}get beforeLoadLazy(){return this.beforeLazyPromise===void 0&&(this.beforeLazyPromise=this.beforeLoadLazyPromise()),this.beforeLazyPromise}get loadLazy(){return this.lazyPromise===void 0&&(this.lazyPromise=this.loadLazyPromise()),this.lazyPromise}get beforeLoadDelayed(){return this.beforeDelayedPromise===void 0&&(this.beforeDelayedPromise=this.beforeLoadDelayedPromise()),this.beforeDelayedPromise}get loadDelayed(){return this.delayedPromise===void 0&&(this.delayedPromise=this.loadDelayedPromise()),this.delayedPromise}get initialized(){return this.initializedPromise===void 0&&(this.initializedPromise=this.getInitializedPromise()),this.initializedPromise}addBeforeEagerTask(e){this.beforeEagerCallbacks.push(e)}addLoadEagerTask(e){this.loadEagerCallbacks.push(e)}addBeforeLoadLazyTask(e){this.beforeLoadLazyCallbacks.push(e)}addLoadLazyTask(e){this.loadLazyCallbacks.push(e)}addBeforeLoadDelayedTask(e){this.beforeLoadDelayedCallbacks.push(e)}addLoadDelayedTask(e){this.loadDelayedCallbacks.push(e)}addInitializedTask(e){this.initializedCallbacks.push(e)}async init(){await this.beforeEager,await this.loadEager,await this.beforeLoadLazy,await this.loadLazy,await this.beforeLoadDelayed,await this.loadDelayed,await this.initialized}async beforeLoadEager(){const e=new Promise(a=>{$(),M(),q(),a()});await Promise.all([...this.beforeEagerCallbacks.map(a=>a()),e])}async loadEagerPromise(){const e=new Promise(async a=>{try{const i=document.querySelector("main");B(i),R(i),A(i),setTimeout(()=>{document.body.classList.add("show"),a()},100),(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&await L()}catch(i){y.error("index: could not load fonts",i)}});await Promise.all([...this.loadEagerCallbacks.map(a=>a()),e,H()])}async beforeLoadLazyPromise(){const e=new Promise(a=>a());await Promise.all([...this.beforeLoadLazyCallbacks.map(a=>a()),e])}async loadLazyPromise(){const e=new Promise(async a=>{try{const{lazyStylesScssPath:i,sidekickLibraryStylesScssPath:o,fontsScssPath:r,lazyStylesCssPath:l,sidekickLibraryStylesCssPath:d}=u;await U();const{hash:n}=window.location,c=n?document.getElementById(n.substring(1)):!1;n&&c&&c.scrollIntoView(),i&&l&&await w(l),o&&d&&k()&&await w(d),r&&await L(),t("lazy");const m=document.querySelector("main");t.observe(m.querySelectorAll("div[data-block-name]")),t.observe(m.querySelectorAll("picture > img"))}catch(i){y.error("LoadLazyTask: ",i)}a()});await Promise.all([...this.loadLazyCallbacks.map(a=>a()),e])}async beforeLoadDelayedPromise(){const e=new Promise(a=>a());await Promise.all([...this.beforeLoadDelayedCallbacks.map(a=>a()),e])}async loadDelayedPromise(){const e=new Promise(a=>{setTimeout(()=>{a()},3e3)});await Promise.all([...this.loadDelayedCallbacks.map(a=>a()),e])}async getInitializedPromise(){const e=new Promise(a=>a());await Promise.all([...this.initializedCallbacks.map(a=>a()),e])}}const P=new F,h={interactive:"interactive",complete:"complete"};async function p(){P.addBeforeEagerTask(()=>(document.getElementsByTagName("main")[0].setAttribute("id","main"),Promise.resolve())),await P.init()}function N(){document.readyState===h.interactive||document.readyState===h.complete?p():document.addEventListener("readystatechange",()=>{const s=document.readyState;(s===h.interactive||s===h.complete)&&p()})}console.log("main.ts loaded");console.log("window.hlx:",window.hlx);N();
//# sourceMappingURL=main.js.map
