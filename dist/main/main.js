import"../__chunks__/icon.6HWMj7N2.js";import{m as h}from"../__chunks__/index.module.DQI0LCqS.js";import{t as z,l as p,g as C,a as T,b as A,c as D,d as R,e as B,f as U}from"../__chunks__/loadBlock.CiHl7HW5.js";import{g as f}from"../__chunks__/getMetadata.C2EoXxjz.js";import{i as v}from"../__chunks__/isSidekickLibraryActive.U-fJCMMj.js";import"../__chunks__/preload-helper.DX1wzJSG.js";import"../__chunks__/lit-element.BYUc91cE.js";import"../__chunks__/unsafe-html.CzzwY3gx.js";const L=(t,e)=>{e.split(",").forEach(a=>{t.classList.add(z(a.trim()))})};function x(){const t=f("template");t&&L(document.body,t);const e=f("theme");e&&L(document.body,e)}function _(t){return t.trim()===""?void 0:t}function M(){const t=f("language");document.documentElement.lang=_(t)||"en"}function I(){return v()?window.parent.location:window.location}const y={mainTsPath:"./src/main.ts",mainScssPath:"./src/styles/sass/main.scss",iconsDirPath:"./public/icons",iconsTypesPath:"./src/types/icons.types.ts",fontsScssPath:"./src/styles/sass/fonts.scss",fontsCssPath:"./dist/fonts/fonts.css",lazyStylesScssPath:"./src/styles/sass/lazy-styles.scss",lazyStylesCssPath:"./dist/lazyStyles/lazyStyles.css",editorTsPath:"./src/app/editor/editor-support.ts",lcpBlocks:[]};async function b(){const{fontsCssPath:t}=y;if(t){await p(t);try{I().hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch(e){h.error("loadFonts: Error setting fonts-loaded in session storage",e)}}}function i(t,e){const a=()=>window.performance?window.performance.now():Date.now()-window.hlx.rum.firstReadTime;try{if(window.hlx=window.hlx||{},i.enhance=()=>{},!window.hlx.rum){const o=window.SAMPLE_PAGEVIEWS_AT_RATE==="high"&&10||window.SAMPLE_PAGEVIEWS_AT_RATE==="low"&&1e3||new URLSearchParams(window.location.search).get("rum")==="on"&&1||100,r=Math.random().toString(36).slice(-4),l=Math.random()*o<1;if(window.hlx.rum={weight:o,id:r,isSelected:l,firstReadTime:window.performance?window.performance.timeOrigin:Date.now(),sampleRUM:i,queue:[],collector:(...d)=>window.hlx.rum.queue.push(d)},l){const d=s=>{const n={source:"undefined error"};try{n.target=s.toString(),n.source=s.stack.split(`
`).filter(c=>c.match(/https?:\/\//)).shift().replace(/at ([^ ]+) \((.+)\)/,"$1@$2").replace(/ at /,"@").trim()}catch{}return n};window.addEventListener("error",({error:s})=>{const n=d(s);i("error",n)}),window.addEventListener("unhandledrejection",({reason:s})=>{let n={source:"Unhandled Rejection",target:s||"Unknown"};s instanceof Error&&(n=d(s)),i("error",n)}),i.baseURL=i.baseURL||new URL(window.RUM_BASE||"/",new URL("https://rum.hlx.page")),i.collectBaseURL=i.collectBaseURL||i.baseURL,i.sendPing=(s,n,c={})=>{const u=JSON.stringify({weight:o,id:r,referer:window.location.href,checkpoint:s,t:n,...c}),{href:E,origin:k}=new URL(`.rum/${o}`,i.collectBaseURL),S=k===window.location.origin?new Blob([u],{type:"application/json"}):u;navigator.sendBeacon(E,S),console.debug(`ping:${s}`,c)},i.sendPing("top",a()),i.enhance=()=>{const s=document.createElement("script");s.src=new URL(".rum/@adobe/helix-rum-enhancer@^2/src/index.js",i.baseURL).href,document.head.appendChild(s)},window.hlx.RUM_MANUAL_ENHANCE||i.enhance()}}window.hlx.rum&&window.hlx.rum.isSelected&&t&&window.hlx.rum.collector(t,e,a()),document.dispatchEvent(new CustomEvent("rum",{detail:{checkpoint:t,data:e}}))}catch{}}function q(t){const e=[];return t.querySelectorAll("[data-block-name]").forEach(o=>{e.push(C(o))}),e}function w(t){t.style.removeProperty("display")}async function N(){const t=document.querySelector(".section"),{lcpBlocks:e}=y;if(t){const r=q(t).map(async l=>{(e==null?void 0:e.includes(l.name))&&await Promise.all([T(l.element),A(l.element)])});await Promise.all(r),w(t)}document.body.style.display=null;const a=document.querySelector("main img");await new Promise(o=>{a&&!a.complete?(a.setAttribute("loading","eager"),a.setAttribute("fetchpriority","high"),a.addEventListener("load",()=>o()),a.addEventListener("error",()=>o())):o()})}async function O(t,e){const a=t.dataset.sectionStatus;if(!a||a==="initialized"){t.dataset.sectionStatus="loading";const o=[...t.querySelectorAll("div.block")];for(let r=0;r<o.length;r+=1)await D(o[r]);t.dataset.sectionStatus="loaded",w(t)}}async function j(t){if(!t)return;const e=[...t.querySelectorAll("div.section")];for(let a=0;a<e.length;a+=1)await O(e[a]),w(e[a])}function H(t="/dist/main/main.js"){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.RUM_MANUAL_ENHANCE=!0,window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const e=document.querySelector(`script[src$="${t}"]`);if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split(t)}catch(a){h.log("setupHlxObj: Could not set codeBasePath.",a)}}class ${constructor(){this.beforeEagerCallbacks=[],this.loadEagerCallbacks=[],this.beforeLoadLazyCallbacks=[],this.loadLazyCallbacks=[],this.beforeLoadDelayedCallbacks=[],this.loadDelayedCallbacks=[],this.initializedCallbacks=[]}get beforeEager(){return this.beforeEagerPromise===void 0&&(this.beforeEagerPromise=this.beforeLoadEager()),this.beforeEagerPromise}get loadEager(){return this.eagerPromise===void 0&&(this.eagerPromise=this.loadEagerPromise()),this.eagerPromise}get beforeLoadLazy(){return this.beforeLazyPromise===void 0&&(this.beforeLazyPromise=this.beforeLoadLazyPromise()),this.beforeLazyPromise}get loadLazy(){return this.lazyPromise===void 0&&(this.lazyPromise=this.loadLazyPromise()),this.lazyPromise}get beforeLoadDelayed(){return this.beforeDelayedPromise===void 0&&(this.beforeDelayedPromise=this.beforeLoadDelayedPromise()),this.beforeDelayedPromise}get loadDelayed(){return this.delayedPromise===void 0&&(this.delayedPromise=this.loadDelayedPromise()),this.delayedPromise}get initialized(){return this.initializedPromise===void 0&&(this.initializedPromise=this.getInitializedPromise()),this.initializedPromise}addBeforeEagerTask(e){this.beforeEagerCallbacks.push(e)}addLoadEagerTask(e){this.loadEagerCallbacks.push(e)}addBeforeLoadLazyTask(e){this.beforeLoadLazyCallbacks.push(e)}addLoadLazyTask(e){this.loadLazyCallbacks.push(e)}addBeforeLoadDelayedTask(e){this.beforeLoadDelayedCallbacks.push(e)}addLoadDelayedTask(e){this.loadDelayedCallbacks.push(e)}addInitializedTask(e){this.initializedCallbacks.push(e)}async init(){await this.beforeEager,await this.loadEager,await this.beforeLoadLazy,await this.loadLazy,await this.beforeLoadDelayed,await this.loadDelayed,await this.initialized}async beforeLoadEager(){const e=new Promise(a=>{H(),i(),x(),M(),a()});await Promise.all([...this.beforeEagerCallbacks.map(a=>a()),e])}async loadEagerPromise(){const e=new Promise(async a=>{try{const o=document.querySelector("main");R(o),B(o),U(o),setTimeout(()=>{document.body.classList.add("show"),a()},100),i.enhance(),(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&await b()}catch(o){h.error("index: could not load fonts",o)}});await Promise.all([...this.loadEagerCallbacks.map(a=>a()),e,N()])}async beforeLoadLazyPromise(){const e=new Promise(a=>a());await Promise.all([...this.beforeLoadLazyCallbacks.map(a=>a()),e])}async loadLazyPromise(){const e=new Promise(async a=>{try{const{lazyStylesScssPath:o,fontsScssPath:r,lazyStylesCssPath:l}=y,d=document.querySelector("main");await j(d);const{hash:s}=window.location,n=s?document.getElementById(s.substring(1)):!1;s&&n&&n.scrollIntoView(),o&&l&&await p(l),r&&await b()}catch(o){h.error("LoadLazyTask: ",o)}a()});await Promise.all([...this.loadLazyCallbacks.map(a=>a()),e])}async beforeLoadDelayedPromise(){const e=new Promise(a=>a());await Promise.all([...this.beforeLoadDelayedCallbacks.map(a=>a()),e])}async loadDelayedPromise(){const e=new Promise(a=>{setTimeout(()=>{a()},3e3)});await Promise.all([...this.loadDelayedCallbacks.map(a=>a()),e])}async getInitializedPromise(){const e=new Promise(a=>a());await Promise.all([...this.initializedCallbacks.map(a=>a()),e])}}const g=new $,m={interactive:"interactive",complete:"complete"};async function P(){g.addBeforeEagerTask(()=>(document.getElementsByTagName("main")[0].setAttribute("id","main"),Promise.resolve())),await g.init()}function F(){const t="__XWALK_BOILERPLATE__";globalThis[t]=globalThis[t]||{},globalThis[t].version="0.0.1@alpha-1",document.readyState===m.interactive||document.readyState===m.complete?P():document.addEventListener("readystatechange",()=>{const e=document.readyState;(e===m.interactive||e===m.complete)&&P()})}F();
//# sourceMappingURL=main.js.map
